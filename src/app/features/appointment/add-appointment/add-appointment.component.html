<div class="add-appointment-background">
  <div class="form-container">
    <h1 class="pt-3 pb-3">Dodaj Termin</h1>

    <form #form="ngForm" (ngSubmit)="onFormSubmit()">
      <div class="mt-2">
        <label class="form-label">Korisnik</label>
        <select class="form-control" [(ngModel)]="model.userId" name="userId" required #userId="ngModel">
          <option  *ngFor="let user of users" [value]="user.id">{{ user.username }}</option>
        </select>
        <div *ngIf="userId.invalid && userId.touched" class="text-danger">
          Morate odabrati korisnika.
        </div>
      </div>

      <div class="mt-2">
        <label class="form-label">Usluga</label>
        <select class="form-control" [(ngModel)]="model.serviceId" name="servisId" required #servisId="ngModel" (change)="onServiceChange(model.serviceId)">
          <option *ngFor="let service of usluge" [value]="service.id">{{ service.name }}</option>
        </select>
        <div *ngIf="servisId.invalid && servisId.touched" class="text-danger">
          Morate odabrati uslugu.
        </div>
      </div>

      <div class="mt-2">
        <label class="form-label">Vreme</label>
        <input type="datetime-local" id="startTime" class="form-control" name="startTime" [(ngModel)]="model.startTime" required #startTime="ngModel">
        <div *ngIf="startTime.invalid && startTime.touched" class="text-danger">
          Morate odabrati početno vreme.
        </div>
      </div>

      <div class="mt-2">
        <label class="form-label">Trajanje (min)</label>
        <input type="number" id="duration" class="form-control" name="duration" [(ngModel)]="model.duration" required #duration="ngModel">
      </div>

      <div class="mt-2">
        <label class="form-label">Radnik</label>
        <input type="text" id="worker" class="form-control" name="worker" [(ngModel)]="model.worker" required #worker="ngModel">
        <div *ngIf="duration.invalid && duration.touched" class="text-danger">
          Morate odabrati trajanje usluge.
        </div>
      </div>

      <button type="submit" class="btn btn-primary mt-3" [disabled]="form.invalid">Sačuvaj</button>
    </form>
  </div>
  <div class="image-container"></div>
</div>
